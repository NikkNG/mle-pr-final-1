# –≠–ø–∏–∫: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –∫–æ–º–º–µ—Ä—Ü–∏–∏

## –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –∫–æ–º–º–µ—Ä—Ü–∏–∏ —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω—É. –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –º–æ–¥–µ–ª–∏, —Å–æ–∑–¥–∞–Ω–∏–µ API-—Å–µ—Ä–≤–∏—Å–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–æ–±—É—á–µ–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ecommerce-recommender-fin/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ deployment_config.json
‚îÇ   ‚îú‚îÄ‚îÄ prometheus.yml
‚îÇ   ‚îî‚îÄ‚îÄ grafana/
‚îÇ       ‚îú‚îÄ‚îÄ dashboards/
‚îÇ       ‚îú‚îÄ‚îÄ datasources/
‚îÇ       ‚îî‚îÄ‚îÄ provisioning/
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ raw/
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ production/
‚îÇ   ‚îî‚îÄ‚îÄ backup/
‚îú‚îÄ‚îÄ notebooks/
‚îÇ   ‚îú‚îÄ‚îÄ 01_eda.ipynb
‚îÇ   ‚îî‚îÄ‚îÄ 02_experiments.ipynb
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ model_manager.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ retraining_endpoints.py
‚îÇ   ‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ preprocessing.py
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ collaborative_filtering.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ content_based.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ hybrid.py
‚îÇ   ‚îú‚îÄ‚îÄ monitoring/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ metrics.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ alerting.py
‚îÇ   ‚îî‚îÄ‚îÄ retraining/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ scheduler.py
‚îÇ       ‚îú‚îÄ‚îÄ metrics_monitor.py
‚îÇ       ‚îú‚îÄ‚îÄ model_trainer.py
‚îÇ       ‚îú‚îÄ‚îÄ deployment_manager.py
‚îÇ       ‚îî‚îÄ‚îÄ retraining_service.py
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ start_api.sh
‚îÇ   ‚îî‚îÄ‚îÄ mlflow/
‚îÇ       ‚îî‚îÄ‚îÄ start_mlflow_server.sh
‚îú‚îÄ‚îÄ experiments/
‚îú‚îÄ‚îÄ logs/
‚îú‚îÄ‚îÄ mlruns/
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ config.py
‚îú‚îÄ‚îÄ setup.py
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md
```

---

## –ë–∏–∑–Ω–µ—Å-—Ü–µ–ª–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ KPI:
1. **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏**: –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –ø–æ–∫—É–ø–æ–∫ –ø–æ—Å–ª–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
2. **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ —á–µ–∫–∞**: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
3. **–£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞**: –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
4. **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Å–∞–π—Ç–µ**: –í–æ–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã



## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏—Å—Ç–æ—Ä–∏–∏

### –ò—Å—Ç–æ—Ä–∏—è 1: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
**–ö–∞–∫** –∞–Ω–∞–ª–∏—Ç–∏–∫ –¥–∞–Ω–Ω—ã—Ö  
**–Ø —Ö–æ—á—É** –ø—Ä–æ–≤–µ—Å—Ç–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö  
**–ß—Ç–æ–±—ã** –ø–æ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö, –≤—ã—è–≤–∏—Ç—å –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏ –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ–¥—Ö–æ–¥—ã –∫ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—é

#### Definition of Done:
- Jupyter Notebook `01_eda.ipynb` —Å –ø–æ–ª–Ω—ã–º EDA
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∏–Ω—Å–∞–π—Ç—ã
- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω—ã –≥–∏–ø–æ—Ç–µ–∑—ã –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è


### –ò—Å—Ç–æ—Ä–∏—è 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã MLOps - –ó–ê–í–ï–†–®–ï–ù–û
**–ö–∞–∫** ML-–∏–Ω–∂–µ–Ω–µ—Ä  
**–Ø —Ö–æ—á—É** –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å MLflow –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤  
**–ß—Ç–æ–±—ã** –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

#### Definition of Done:
- [x] –°–∫—Ä–∏–ø—Ç `setup_mlflow.sh` –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É MLflow
- [x] –†–∞–±–æ—Ç–∞—é—â–∏–π MLflow —Å–µ—Ä–≤–µ—Ä

#### üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /home/mle-user/mle_projects/mle-pr-final/ecommerce-recommender-fin

# –ó–∞–ø—É—Å–∫ MLflow —Å–µ—Ä–≤–µ—Ä–∞
source .venv_fin_project/bin/activate && bash scripts/mlflow/start_mlflow_server.sh

# –î–æ—Å—Ç—É–ø –∫ UI: http://127.0.0.1:5001
```

---

### –ò—Å—Ç–æ—Ä–∏—è 3: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π (–ó–ê–í–ï–†–®–ï–ù–ê)
**–ö–∞–∫** ML-–∏–Ω–∂–µ–Ω–µ—Ä  
**–Ø —Ö–æ—á—É** —Å–æ–∑–¥–∞—Ç—å –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º  
**–ß—Ç–æ–±—ã** –≤—ã–±—Ä–∞—Ç—å –Ω–∞–∏–ª—É—á—à—É—é –º–æ–¥–µ–ª—å –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

#### Definition of Done:
- [x] Jupyter Notebook `02_experiments.ipynb` —Å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º–∏
- [x] –ú–æ–¥—É–ª–∏ –≤ `src/models/` —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤
- [x] –ü–∞–π–ø–ª–∞–π–Ω –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ `src/data/preprocessing.py`
- [x] –û–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –≤ –±–∏–Ω–∞—Ä–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ


---

### –ò—Å—Ç–æ—Ä–∏—è 4: –°–æ–∑–¥–∞–Ω–∏–µ API-—Å–µ—Ä–≤–∏—Å–∞
**–ö–∞–∫** —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
**–Ø —Ö–æ—á—É** –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ HTTP API  
**–ß—Ç–æ–±—ã** –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ


#### Definition of Done:
- FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ `src/api/`
- Dockerfile –∏ docker-compose.yml
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–∞—è —á–µ—Ä–µ–∑ Swagger)
- –†–∞–±–æ—Ç–∞—é—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å API

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
uvicorn src.api.main:app --reload --host 0.0.0.0 --port 8000

# –î–æ—Å—Ç—É–ø –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
open http://localhost:8000/docs
```
### –ü—Ä–æ–¥–∞–∫—à–µ–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

```bash
# –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
docker build -t ecommerce-recommender-api .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -p 8000:8000 ecommerce-recommender-api

# –ò–ª–∏ —Å Docker Compose
docker-compose up -d
```

---

### –ò—Å—Ç–æ—Ä–∏—è 5: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
**–ö–∞–∫** ML-–∏–Ω–∂–µ–Ω–µ—Ä  
**–Ø —Ö–æ—á—É** –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –¥–æ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏  
**–ß—Ç–æ–±—ã** —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —É—á–∏—Ç—ã–≤–∞–ª–∏ –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### Definition of Done:
- Python —Ñ–∞–π–ª —Å DAG –≤ `airflow/dags/retrain_pipeline.py`
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –ø–∞–π–ø–ª–∞–π–Ω–∞

---

### –ò—Å—Ç–æ—Ä–∏—è 6: –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ 
**–ö–∞–∫** DevOps –∏–Ω–∂–µ–Ω–µ—Ä  
**–Ø —Ö–æ—á—É** –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π  
**–ß—Ç–æ–±—ã** –±—ã—Å—Ç—Ä–æ –≤—ã—è–≤–ª—è—Ç—å –∏ —É—Å—Ç—Ä–∞–Ω—è—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

#### Definition of Done:
- [x] –ö–æ–¥ –¥–ª—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫ –≤ `src/monitoring/`
- [x] –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫
- [x] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–∞—à–±–æ—Ä–¥–æ–≤

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –∞–¥—Ä–µ—Å–∞–º:

| üìä –°–µ—Ä–≤–∏—Å | üåê URL | üîê –î–æ—Å—Ç—É–ø | üìÑ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|--------|-----------|---------------|
| **üé® Grafana Dashboard** | [http://localhost:3000](http://localhost:3000) | `admin/admin123` | –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∞–ª–µ—Ä—Ç—ã |
| **üìà Prometheus** | [http://localhost:9090](http://localhost:9090) | –û—Ç–∫—Ä—ã—Ç—ã–π | –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ |
| **üîç Monitoring API** | [http://localhost:8000/monitoring/health](http://localhost:8000/monitoring/health) | –û—Ç–∫—Ä—ã—Ç—ã–π | API –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ |


## –ú–µ—Ç—Ä–∏–∫–∏

### –ú–µ—Ç—Ä–∏–∫–∏ API

| –ú–µ—Ç—Ä–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–∏–ø |
|--------|-------------|------|
| `request_count` | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ API –∑–∞–ø—Ä–æ—Å–æ–≤ | Counter |
| `error_count` | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ API | Counter |
| `error_rate` | –ü—Ä–æ—Ü–µ–Ω—Ç –Ω–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ | Gauge |
| `avg_response_time` | –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö | Gauge |
| `min_response_time` | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ | Gauge |
| `max_response_time` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ | Gauge |

### –ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–∏–ø |
|--------|-------------|------|
| `recommendations_shown` | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π | Counter |
| `recommendations_clicked` | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–∫–æ–≤ –ø–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º | Counter |
| `items_added_to_cart` | –¢–æ–≤–∞—Ä—ã, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ –∫–æ—Ä–∑–∏–Ω—É –∏–∑ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π | Counter |
| `ctr` | –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ (–∫–ª–∏–∫–∏/–ø–æ–∫–∞–∑—ã) | Gauge |
| `conversion_rate` | –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ (–¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É/–ø–æ–∫–∞–∑—ã) | Gauge |
| `catalog_coverage` | –ü—Ä–æ—Ü–µ–Ω—Ç –∫–∞—Ç–∞–ª–æ–≥–∞ –≤ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö | Gauge |
| `unique_items_count` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ | Gauge |

### –ú–µ—Ç—Ä–∏–∫–∏ –º–æ–¥–µ–ª–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–∏–ø |
|--------|-------------|------|
| `model_prediction_time` | –í—Ä–µ–º—è, –∑–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –Ω–∞ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –º–æ–¥–µ–ª–∏ | Histogram |
| `model_confidence` | –û—Ü–µ–Ω–∫–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ | Gauge |




---

## –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–∏—Å—Ç–µ–º—ã —á–µ—Ä–µ–∑ `docker-compose up` –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏:

| üéØ –°–µ—Ä–≤–∏—Å | üåê URL | üîê –î–æ—Å—Ç—É–ø | üìÑ –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------|-----------|-------------|
| **ü§ñ API –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π** | [http://localhost:8000](http://localhost:8000) | –û—Ç–∫—Ä—ã—Ç—ã–π | REST API –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π |
| **üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | [http://localhost:8000/docs](http://localhost:8000/docs) | –û—Ç–∫—Ä—ã—Ç—ã–π | Swagger UI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
| **üé® Grafana Dashboard** | [http://localhost:3000](http://localhost:3000) | `admin/admin123` | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è |
| **üìà Prometheus** | [http://localhost:9090](http://localhost:9090) | –û—Ç–∫—Ä—ã—Ç—ã–π | –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ —Å–∏—Å—Ç–µ–º—ã |
| **üß™ MLflow** | [http://localhost:5000](http://localhost:5000) | –û—Ç–∫—Ä—ã—Ç—ã–π | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º–∏ |
| **üóÑÔ∏è PostgreSQL** | `localhost:5432` | `postgres/postgres` | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã API

| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|----------|---------|
| `GET /health` | –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã | `curl http://localhost:8000/health` |
| `GET /recommendations/{user_id}` | –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ | `curl http://localhost:8000/recommendations/1` |
| `GET /similar_items/{item_id}` | –ü–æ—Ö–æ–∂–∏–µ —Ç–æ–≤–∞—Ä—ã | `curl http://localhost:8000/similar_items/131` |
| `GET /popular_items` | –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã | `curl http://localhost:8000/popular_items` |
| `GET /models/status` | –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π | `curl http://localhost:8000/models/status` |

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
curl http://localhost:8000/health

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
curl http://localhost:8000/recommendations/1?num_recommendations=5
```
